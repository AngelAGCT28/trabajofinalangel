<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Práctica 5 - Formulario Grafico</title>
    <link rel="stylesheet" href="../css/style.css"> 
    
    <!-- Formulario con Gráficos -->
<section id="graph-form">
    <h2>Formulario para Gráficos</h2>
    <form id="graphForm">
        <label for="label">Etiqueta:</label>
        <input type="text" id="label" name="label" required><br><br>

        <label for="value">Valor:</label>
        <input type="number" id="value" name="value" required><br><br>

        <button type="submit">Generar Gráfico</button>
    </form>

    <h3>Gráfico</h3>
    <canvas id="myChart" width="400" height="200"></canvas>
</section>

<!-- Incluir librería Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    var chartData = {
        labels: [],
        datasets: [{
            label: 'Datos del Formulario',
            data: [],
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            borderColor: 'rgba(54, 162, 235, 1)',
            borderWidth: 1
        }]
    };

    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar', // Tipo de gráfico: barra, línea, etc.
        data: chartData,
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    document.getElementById("graphForm").addEventListener("submit", function(event) {
        event.preventDefault();

        // Obtener los valores del formulario
        var label = document.getElementById("label").value;
        var value = document.getElementById("value").value;

        // Agregar los datos al gráfico
        chartData.labels.push(label);
        chartData.datasets[0].data.push(value);

        // Actualizar el gráfico
        myChart.update();
    });
</script>
